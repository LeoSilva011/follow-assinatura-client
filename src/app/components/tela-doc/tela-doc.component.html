<div class="container__doc">

    <div class="doc">
        <div class="doc-info">
            <h2>{{docModel.title}}</h2>
            <p>{{docModel.descricao}}</p>

        </div>

        <div class="doc-assinatura" [ngClass]="{'doc-assinatura-sem-borda':botaoDownload}">
            <a 
            [routerLink]="!assinaturaConcluida ? '/assinatura' : null"
            (click)="limparAssinatura()"
            [ngClass]="{'isSigned': isSigned, 'isNotSigned':!isSigned}"
          
            >
                <p *ngIf="!isSigned"
                >
                    clique aqui para assinar o documento
                </p>
               
                <p #paragrafo *ngIf="assinaturaTxt"  id="assianturaTxt">{{ assinaturaTxt }}</p>
     
                

                <img class="assinaturaImg" *ngIf="assinaturaImg" [src]="assinaturaImg" alt="assinatura">
            </a>

        </div>
        <div class="doc-cliente">

            <h3>{{user.nameUser}} ({{user.idUser}})</h3>
            <p>{{user.cpfUser}}</p>

        </div>
    </div>


    <div class="sender"
    *ngIf="!botaoDownload"
    >
        <h2><span>{{sender.senderName}}</span> enviou um documento para você assinar.</h2>
        <div >

            <input class="button"
                [ngClass]="{'active-button': isSigned}"
                type="button" value="Assinar e concluir"
                [disabled]="!isSigned"
                (click)="concluirAssinatura()"
               
                
                
                >
               
        </div>

        <p>Para concluir o processo de assinatura é necessario inserir as informações solicitadas e clicar no botão "Assinar e Concluir"</p>


    </div>


    <div class="doc-enviado"
        *ngIf="botaoDownload"
        >

        <img src="https://gifs.eco.br/wp-content/uploads/2023/11/imagens-de-verificado-instagram-png-15.png" alt="">
        <h2>O documento foi assinado com sucesso</h2>
        <p>Enviamos sua resposta para {{sender.senderName}}.</p>
        <div class="button-download">

            <input 
                [ngClass]="{'active-button': isSigned}"
                type="button" value="Baixar documento"
                
                (click)=" gerarPDF()"
               
                
                >
               
        </div>



    </div>

</div>



<div style="display: none;">

    <div #conteudoParaPDF>
    
    <app-pdf-editavel
        
        assinaturaImg="{{assinaturaImg}}"
        assinaturaTxt="{{imagemGerada}}"
       
    
        ></app-pdf-editavel>
    
    </div>
</div>


